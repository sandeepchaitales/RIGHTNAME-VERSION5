# RIGHTNAME v2.0 - Complete System Logic Flow

## ğŸ“Š HIGH-LEVEL ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              USER INPUT (Frontend)                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ brand_names: ["Chaibunk", "TeaHub"]                                               â”‚ â”‚
â”‚  â”‚ â€¢ category: "Chai Cafe"                                                             â”‚ â”‚
â”‚  â”‚ â€¢ industry: "Food & Beverage"                                                       â”‚ â”‚
â”‚  â”‚ â€¢ product_type: "Physical"                                                          â”‚ â”‚
â”‚  â”‚ â€¢ positioning: "Mass" / "Premium" / "Niche"                                         â”‚ â”‚
â”‚  â”‚ â€¢ market_scope: "Single Country" / "Multi-Country" / "Global"                       â”‚ â”‚
â”‚  â”‚ â€¢ countries: ["India", "USA"]                                                       â”‚ â”‚
â”‚  â”‚ â€¢ known_competitors: ["Chaayos", "Chai Point"] (optional)                           â”‚ â”‚
â”‚  â”‚ â€¢ product_keywords: ["chai", "tea", "cafe"] (optional)                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
                                   POST /api/evaluate
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    STEP 1: DYNAMIC BRAND SEARCH (For Each Brand)                         â”‚
â”‚                              â±ï¸ 3-5 seconds per brand                                    â”‚
â”‚                                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                        1A: WEB SEARCH VERIFICATION                                  â”‚ â”‚
â”‚   â”‚                                                                                     â”‚ â”‚
â”‚   â”‚   Search: "{brand_name}" + "{category}" on Bing                                    â”‚ â”‚
â”‚   â”‚                                                                                     â”‚ â”‚
â”‚   â”‚   Count:                                                                            â”‚ â”‚
â”‚   â”‚   â€¢ brand_mentions = How many times brand appears in results                       â”‚ â”‚
â”‚   â”‚   â€¢ business_indicators = [stores, menu, franchise, reviews, locations, etc.]     â”‚ â”‚
â”‚   â”‚                                                                                     â”‚ â”‚
â”‚   â”‚   Decision:                                                                         â”‚ â”‚
â”‚   â”‚   â€¢ IF mentions â‰¥ 3 AND indicators â‰¥ 2 â†’ brand_found_online = TRUE                â”‚ â”‚
â”‚   â”‚   â€¢ IF mentions â‰¥ 5 â†’ brand_found_online = TRUE (high visibility)                 â”‚ â”‚
â”‚   â”‚                                                                                     â”‚ â”‚
â”‚   â”‚   Example: "Chaibunk" â†’ 23 mentions, indicators: [locations, menu, cafe, chain]   â”‚ â”‚
â”‚   â”‚            â†’ brand_found_online = TRUE âœ…                                          â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚                                               â”‚
â”‚                                          â–¼                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                        1B: LLM BRAND CHECK (GPT-5.2)                                â”‚ â”‚
â”‚   â”‚                                                                                     â”‚ â”‚
â”‚   â”‚   Prompt asks:                                                                      â”‚ â”‚
â”‚   â”‚   1. "Does '{brand_name}' ALREADY EXIST as a business?"                            â”‚ â”‚
â”‚   â”‚   2. "Is it SIMILAR to any existing brand?"                                        â”‚ â”‚
â”‚   â”‚                                                                                     â”‚ â”‚
â”‚   â”‚   Checks:                                                                           â”‚ â”‚
â”‚   â”‚   âœ“ Exact brand exists (Chaibunk = existing cafe chain)                           â”‚ â”‚
â”‚   â”‚   âœ“ Pluralization (MoneyControls â‰ˆ Moneycontrol)                                  â”‚ â”‚
â”‚   â”‚   âœ“ Phonetic similarity (BUMBELL â‰ˆ Bumble)                                        â”‚ â”‚
â”‚   â”‚   âœ“ Letter variations (Googel â‰ˆ Google)                                           â”‚ â”‚
â”‚   â”‚   âœ“ Regional brands (Indian cafes, apps, newspapers)                              â”‚ â”‚
â”‚   â”‚                                                                                     â”‚ â”‚
â”‚   â”‚   Response: {has_conflict, confidence, conflicting_brand, brand_already_exists}   â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                          â”‚                                               â”‚
â”‚                                          â–¼                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                        1C: WEB OVERRIDE CHECK                                       â”‚ â”‚
â”‚   â”‚                                                                                     â”‚ â”‚
â”‚   â”‚   IF LLM says "no conflict" BUT web search found evidence:                         â”‚ â”‚
â”‚   â”‚   â†’ OVERRIDE LLM decision                                                          â”‚ â”‚
â”‚   â”‚   â†’ Flag as EXISTING BRAND                                                         â”‚ â”‚
â”‚   â”‚                                                                                     â”‚ â”‚
â”‚   â”‚   Example: LLM missed Chaibunk, but web found 23 mentions                          â”‚ â”‚
â”‚   â”‚            â†’ WEB OVERRIDE â†’ Mark as conflict                                       â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                                          â”‚
â”‚   RESULT: all_rejections = {brand: {exists, confidence, matched_brand, reason}}         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â–¼                           â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ ALL BRANDS HAVE         â”‚   â”‚   SOME/NO BRANDS HAVE CONFLICTS             â”‚
              â”‚ CONFLICTS DETECTED      â”‚   â”‚                                             â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                                      â”‚
                          â–¼                                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚       STEP 2: EARLY STOPPING            â”‚                      â”‚
â”‚       â±ï¸ Total: 3-5 seconds             â”‚                      â”‚
â”‚                                         â”‚                      â”‚
â”‚  Skip ALL expensive processing!         â”‚                      â”‚
â”‚                                         â”‚                      â”‚
â”‚  Return immediately:                    â”‚                      â”‚
â”‚  â€¢ namescore: 5/100                     â”‚                      â”‚
â”‚  â€¢ verdict: REJECT                      â”‚                      â”‚
â”‚  â€¢ summary: "EXISTING BRAND detected"   â”‚                      â”‚
â”‚  â€¢ dimensions: all 0                    â”‚                      â”‚
â”‚                                         â”‚                      â”‚
â”‚  âœ… SAVES 60-90 seconds!                â”‚                      â”‚
â”‚  âœ… SAVES ~$0.10 LLM cost!              â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                                                                 â”‚
                                                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STEP 3: PARALLEL DATA GATHERING                                     â”‚
â”‚                              â±ï¸ 30-45 seconds (all run simultaneously)                   â”‚
â”‚                                                                                          â”‚
â”‚   For EACH brand, run ALL these in PARALLEL:                                            â”‚
â”‚                                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚    DOMAIN      â”‚  â”‚   TRADEMARK    â”‚  â”‚  VISIBILITY    â”‚  â”‚    SOCIAL      â”‚        â”‚
â”‚   â”‚    CHECK       â”‚  â”‚   RESEARCH     â”‚  â”‚   ANALYSIS     â”‚  â”‚   HANDLES      â”‚        â”‚
â”‚   â”‚                â”‚  â”‚                â”‚  â”‚                â”‚  â”‚                â”‚        â”‚
â”‚   â”‚ â€¢ WHOIS lookup â”‚  â”‚ â€¢ Bing search  â”‚  â”‚ â€¢ Google searchâ”‚  â”‚ â€¢ Instagram    â”‚        â”‚
â”‚   â”‚ â€¢ .com status  â”‚  â”‚   for TM       â”‚  â”‚ â€¢ Play Store   â”‚  â”‚ â€¢ Twitter/X    â”‚        â”‚
â”‚   â”‚ â€¢ Registrar    â”‚  â”‚ â€¢ Company reg  â”‚  â”‚ â€¢ App Store    â”‚  â”‚ â€¢ LinkedIn     â”‚        â”‚
â”‚   â”‚ â€¢ Expiry date  â”‚  â”‚ â€¢ Legal cases  â”‚  â”‚ â€¢ Phonetic var â”‚  â”‚ â€¢ TikTok       â”‚        â”‚
â”‚   â”‚                â”‚  â”‚ â€¢ Precedents   â”‚  â”‚ â€¢ Competitors  â”‚  â”‚ â€¢ YouTube      â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚   â”‚  MULTI-DOMAIN  â”‚  â”‚   SIMILARITY   â”‚                                                â”‚
â”‚   â”‚  AVAILABILITY  â”‚  â”‚    CHECK       â”‚                                                â”‚
â”‚   â”‚                â”‚  â”‚                â”‚                                                â”‚
â”‚   â”‚ â€¢ Category TLDsâ”‚  â”‚ â€¢ Jaro-Winkler â”‚                                                â”‚
â”‚   â”‚   (.cafe, .io) â”‚  â”‚ â€¢ Soundex      â”‚                                                â”‚
â”‚   â”‚ â€¢ Country TLDs â”‚  â”‚ â€¢ Metaphone    â”‚                                                â”‚
â”‚   â”‚   (.in, .co.uk)â”‚  â”‚ â€¢ Phonetic     â”‚                                                â”‚
â”‚   â”‚ â€¢ Premium doms â”‚  â”‚ â€¢ Famous brandsâ”‚                                                â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚
â”‚                                                                                          â”‚
â”‚   asyncio.gather(*tasks) â†’ Run all 6 checks simultaneously                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STEP 4: LLM REPORT GENERATION (GPT-5.2)                             â”‚
â”‚                              â±ï¸ 15-45 seconds | ğŸ’° ~$0.08-0.15                           â”‚
â”‚                                                                                          â”‚
â”‚   INPUT TO LLM:                                                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  SYSTEM PROMPT:                                                                   â”‚  â”‚
â”‚   â”‚  "You are an expert Brand Strategist, Trademark Attorney, and Marketing Analyst" â”‚  â”‚
â”‚   â”‚  "Output STRICT JSON matching BrandEvaluationResponse schema"                    â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          +                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  USER PROMPT (with all gathered data):                                           â”‚  â”‚
â”‚   â”‚                                                                                   â”‚  â”‚
â”‚   â”‚  BUSINESS CONTEXT:                                                               â”‚  â”‚
â”‚   â”‚  â€¢ Brand Names: Chaibunk, TeaHub                                                â”‚  â”‚
â”‚   â”‚  â€¢ Category: Chai Cafe                                                           â”‚  â”‚
â”‚   â”‚  â€¢ Industry: Food & Beverage                                                     â”‚  â”‚
â”‚   â”‚  â€¢ Countries: India, USA                                                         â”‚  â”‚
â”‚   â”‚                                                                                   â”‚  â”‚
â”‚   â”‚  DOMAIN AVAILABILITY:                                                            â”‚  â”‚
â”‚   â”‚  â€¢ chaibunk.com: TAKEN (registered 2019)                                        â”‚  â”‚
â”‚   â”‚  â€¢ teahub.com: AVAILABLE                                                         â”‚  â”‚
â”‚   â”‚                                                                                   â”‚  â”‚
â”‚   â”‚  TRADEMARK RESEARCH:                                                             â”‚  â”‚
â”‚   â”‚  â€¢ Found conflicts: [list from Bing search]                                     â”‚  â”‚
â”‚   â”‚  â€¢ Legal precedents: [relevant cases]                                           â”‚  â”‚
â”‚   â”‚                                                                                   â”‚  â”‚
â”‚   â”‚  VISIBILITY ANALYSIS:                                                            â”‚  â”‚
â”‚   â”‚  â€¢ Google results: [top 5 results]                                              â”‚  â”‚
â”‚   â”‚  â€¢ App Store: [matching apps]                                                   â”‚  â”‚
â”‚   â”‚  â€¢ Phonetic conflicts: [similar sounding brands]                                â”‚  â”‚
â”‚   â”‚                                                                                   â”‚  â”‚
â”‚   â”‚  SOCIAL HANDLES:                                                                 â”‚  â”‚
â”‚   â”‚  â€¢ @chaibunk: TAKEN on Instagram, Twitter                                       â”‚  â”‚
â”‚   â”‚  â€¢ @teahub: Available on Instagram                                              â”‚  â”‚
â”‚   â”‚                                                                                   â”‚  â”‚
â”‚   â”‚  SIMILARITY ANALYSIS:                                                            â”‚  â”‚
â”‚   â”‚  â€¢ Jaro-Winkler scores against famous brands                                    â”‚  â”‚
â”‚   â”‚                                                                                   â”‚  â”‚
â”‚   â”‚  COUNTRY-SPECIFIC COSTS:                                                         â”‚  â”‚
â”‚   â”‚  â€¢ India: â‚¹4,500-â‚¹9,000 filing                                                  â”‚  â”‚
â”‚   â”‚  â€¢ USA: $275-$400 filing                                                        â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚                                               â”‚
â”‚                                          â–¼                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  LLM GENERATES (in JSON):                                                        â”‚  â”‚
â”‚   â”‚                                                                                   â”‚  â”‚
â”‚   â”‚  â€¢ executive_summary: Overall verdict explanation                               â”‚  â”‚
â”‚   â”‚  â€¢ brand_scores[]: For each brand:                                              â”‚  â”‚
â”‚   â”‚      - namescore: 0-100                                                         â”‚  â”‚
â”‚   â”‚      - verdict: GO / CAUTION / REJECT                                           â”‚  â”‚
â”‚   â”‚      - dimensions[8]: Distinctiveness, Cultural, etc.                           â”‚  â”‚
â”‚   â”‚      - trademark_risk: Risk matrix                                              â”‚  â”‚
â”‚   â”‚      - domain_analysis: Recommendations                                         â”‚  â”‚
â”‚   â”‚      - social_availability: Handle status                                       â”‚  â”‚
â”‚   â”‚      - competitor_analysis: Landscape map                                       â”‚  â”‚
â”‚   â”‚      - mitigation_strategies: Action items                                      â”‚  â”‚
â”‚   â”‚      - alternative_names: Suggestions if rejected                               â”‚  â”‚
â”‚   â”‚  â€¢ comparison_verdict: Which name is better                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          STEP 5: POST-PROCESSING                                         â”‚
â”‚                                                                                          â”‚
â”‚   1. JSON PARSING & REPAIR                                                              â”‚
â”‚      â€¢ Clean markdown formatting                                                        â”‚
â”‚      â€¢ Fix common LLM JSON errors                                                       â”‚
â”‚      â€¢ Validate against Pydantic schema                                                 â”‚
â”‚                                                                                          â”‚
â”‚   2. OVERRIDE CHECK                                                                      â”‚
â”‚      â€¢ If dynamic_brand_search found conflict but LLM said GO â†’ Override to REJECT     â”‚
â”‚      â€¢ Add rejection info to summary                                                    â”‚
â”‚                                                                                          â”‚
â”‚   3. SAVE TO DATABASE                                                                    â”‚
â”‚      â€¢ Generate report_id                                                               â”‚
â”‚      â€¢ Store in MongoDB                                                                 â”‚
â”‚      â€¢ Include request data for history                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              FINAL RESPONSE TO FRONTEND                                  â”‚
â”‚                                                                                          â”‚
â”‚   {                                                                                      â”‚
â”‚     "executive_summary": "âœ… GO: 'TeaHub' is available...",                             â”‚
â”‚     "brand_scores": [                                                                   â”‚
â”‚       {                                                                                  â”‚
â”‚         "brand_name": "TeaHub",                                                         â”‚
â”‚         "namescore": 78.5,                                                              â”‚
â”‚         "verdict": "GO",                                                                â”‚
â”‚         "dimensions": [...8 scores...],                                                 â”‚
â”‚         "trademark_risk": {...},                                                        â”‚
â”‚         "domain_analysis": {...},                                                       â”‚
â”‚         ...                                                                             â”‚
â”‚       }                                                                                  â”‚
â”‚     ],                                                                                   â”‚
â”‚     "report_id": "report_abc123..."                                                     â”‚
â”‚   }                                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                                          â–¼
                            Frontend navigates to /dashboard
                            Displays full report with all sections
```

---

## â±ï¸ TIMING BREAKDOWN

| Scenario | Step 1 | Step 2 | Step 3 | Step 4 | Total |
|----------|--------|--------|--------|--------|-------|
| **Existing Brand (Early Stop)** | 3-5s | 0s | 0s | 0s | **3-5s** |
| **Unique Brand (Full Report)** | 3-5s | - | 30-45s | 15-45s | **45-90s** |

---

## ğŸ’° COST BREAKDOWN

| Scenario | LLM Calls | Cost |
|----------|-----------|------|
| **Existing Brand (Early Stop)** | 1x GPT-5.2 (brand check) | ~$0.005 |
| **Unique Brand (Full Report)** | 1x GPT-5.2 (check) + 1x GPT-5.2 (report) | ~$0.10-0.15 |

---

## ğŸ” WHY CHAIBUNK WAS MISSED (BEFORE FIX)

```
OLD FLOW:
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 "Chaibunk"  â”€â”€â”€â–º   â”‚  LLM CHECK ONLY     â”‚  â”€â”€â”€â–º  "No conflict" âŒ
                    â”‚  (GPT-4o-mini)      â”‚        (LLM didn't know brand)
                    â”‚  No web verificationâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    Full report generated
                    Verdict: GO (WRONG!)
```

## âœ… WHY CHAIBUNK IS NOW CAUGHT (AFTER FIX)

```
NEW FLOW:
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 "Chaibunk"  â”€â”€â”€â–º   â”‚  1. WEB SEARCH      â”‚  â”€â”€â”€â–º  23 mentions found! âœ…
                    â”‚  (Bing)             â”‚        indicators: [locations, menu, cafe]
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  2. LLM CHECK       â”‚  â”€â”€â”€â–º  "No conflict" (still missed)
                    â”‚  (GPT-5.2)          â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  3. WEB OVERRIDE    â”‚  â”€â”€â”€â–º  OVERRIDE! Web found evidence
                    â”‚  Check              â”‚        but LLM missed it
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    EARLY STOP â†’ REJECT
                    "Existing brand detected via web search"
```

---

## ğŸ“ KEY FILES

| File | Purpose |
|------|---------|
| `/app/backend/server.py` | Main API endpoint, all logic |
| `/app/backend/visibility.py` | Google/App Store searches |
| `/app/backend/trademark_research.py` | Bing trademark search |
| `/app/backend/schemas.py` | Pydantic models |
| `/app/backend/prompts.py` | LLM system prompts |

---

*Generated: July 2025 | RIGHTNAME v2.0*
